<!--全ての平均評価-->
<div class ="text-center">
  <p class>平均総合評価：<span id="ave-score-rate-<%= race.id %>"></span> (<%=ave_score.round(2)%>点)</p>
  <table class="table table-borderless">
  <tbody>
    <tr>
      <th scope="row">レベル</th>
       <td>初心者向け</td>
       <td><span id="ave-level-rate-<%= race.id %>"></span></td>
       <td>上級者向け</td>
    </tr>
    <tr>
      <th scope="row">コース</th>
      <td>平坦</td>
      <td><span id="ave-course-rate-<%= race.id %>"></span></td>
      <td>起伏あり</td>
    </tr>
    <tr>
      <th scope="row">水質</th>
      <td>濁りなし</td>
      <td><span id="ave-water-rate-<%= race.id %>"></span></td>
      <td>濁りあり</td>
    </tr>
    <tr>
      <th scope="row">観光</th>
      <td>少ない</td>
      <td><span id="ave-sightseeing-rate-<%= race.id %>"></span></td>
      <td>多い</td>
    </tr>
  </tbody>
  </table>
</div>
<script>
document.addEventListener("turbolinks:load", function(){
      $('#ave-score-rate-<%= race.id %>').empty();
      $('#ave-score-rate-<%= race.id %>').raty({
          size: 36,
          starOff: "<%= asset_path('star-off.png') %>",
          starOn: "<%= asset_path('star-on.png') %>",
          starHalf: "<%= asset_path('star-half.png') %>",
          half: true,
          readOnly: true,
          score: <%= ave_score %>,
      });
      $('#ave-level-rate-<%= race.id %>').empty();
      $('#ave-level-rate-<%= race.id %>').raty({
          size: 36,
          starOff: "<%= asset_path('review-off.png') %>",
          starOn: "<%= asset_path('review-on.png') %>",
          starHalf: "<%= asset_path('review-half.png') %>",
          half: true,
          readOnly: true,
          score: <%= ave_level %>,
      });
      $('#ave-course-rate-<%= race.id %>').empty();
      $('#ave-course-rate-<%= race.id %>').raty({
          size: 36,
          starOff: "<%= asset_path('review-off.png') %>",
          starOn: "<%= asset_path('review-on.png') %>",
          starHalf: "<%= asset_path('review-half.png') %>",
          half: true,
          readOnly: true,
          score: <%= ave_course %>,
      });
      $('#ave-water-rate-<%= race.id %>').empty();
      $('#ave-water-rate-<%= race.id %>').raty({
          size: 36,
          starOff: "<%= asset_path('review-off.png') %>",
          starOn: "<%= asset_path('review-on.png') %>",
          starHalf: "<%= asset_path('review-half.png') %>",
          half: true,
          readOnly: true,
          score: <%= ave_water %>,
      });
      $('#ave-sightseeing-rate-<%= race.id %>').empty();
      $('#ave-sightseeing-rate-<%= race.id %>').raty({
          size: 36,
          starOff: "<%= asset_path('review-off.png') %>",
          starOn: "<%= asset_path('review-on.png') %>",
          starHalf: "<%= asset_path('review-half.png') %>",
          half: true,
          readOnly: true,
          score: <%= ave_sightseeing %>,
      });
  })
 </script>